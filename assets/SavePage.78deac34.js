import{i as S,Q as h,T as x,e as B,g as F,h as j}from"./save.505e4c97.js";import{c as E,d as V,a as R}from"./QBtn.b9d05306.js";import{c as O}from"./dom.8ba065e3.js";import{h as e,A as Q,r,o as D,s as d,t as L,u as f,y as l,v as n,x as U,P as p,R as T,Q as q,a1 as A}from"./index.2af1ab0c.js";const P=[e("g",{"stroke-width":"4","stroke-linecap":"round"},[e("line",{y1:"17",y2:"29",transform:"translate(32,32) rotate(180)"},[e("animate",{attributeName:"stroke-opacity",dur:"750ms",values:"1;.85;.7;.65;.55;.45;.35;.25;.15;.1;0;1",repeatCount:"indefinite"})]),e("line",{y1:"17",y2:"29",transform:"translate(32,32) rotate(210)"},[e("animate",{attributeName:"stroke-opacity",dur:"750ms",values:"0;1;.85;.7;.65;.55;.45;.35;.25;.15;.1;0",repeatCount:"indefinite"})]),e("line",{y1:"17",y2:"29",transform:"translate(32,32) rotate(240)"},[e("animate",{attributeName:"stroke-opacity",dur:"750ms",values:".1;0;1;.85;.7;.65;.55;.45;.35;.25;.15;.1",repeatCount:"indefinite"})]),e("line",{y1:"17",y2:"29",transform:"translate(32,32) rotate(270)"},[e("animate",{attributeName:"stroke-opacity",dur:"750ms",values:".15;.1;0;1;.85;.7;.65;.55;.45;.35;.25;.15",repeatCount:"indefinite"})]),e("line",{y1:"17",y2:"29",transform:"translate(32,32) rotate(300)"},[e("animate",{attributeName:"stroke-opacity",dur:"750ms",values:".25;.15;.1;0;1;.85;.7;.65;.55;.45;.35;.25",repeatCount:"indefinite"})]),e("line",{y1:"17",y2:"29",transform:"translate(32,32) rotate(330)"},[e("animate",{attributeName:"stroke-opacity",dur:"750ms",values:".35;.25;.15;.1;0;1;.85;.7;.65;.55;.45;.35",repeatCount:"indefinite"})]),e("line",{y1:"17",y2:"29",transform:"translate(32,32) rotate(0)"},[e("animate",{attributeName:"stroke-opacity",dur:"750ms",values:".45;.35;.25;.15;.1;0;1;.85;.7;.65;.55;.45",repeatCount:"indefinite"})]),e("line",{y1:"17",y2:"29",transform:"translate(32,32) rotate(30)"},[e("animate",{attributeName:"stroke-opacity",dur:"750ms",values:".55;.45;.35;.25;.15;.1;0;1;.85;.7;.65;.55",repeatCount:"indefinite"})]),e("line",{y1:"17",y2:"29",transform:"translate(32,32) rotate(60)"},[e("animate",{attributeName:"stroke-opacity",dur:"750ms",values:".65;.55;.45;.35;.25;.15;.1;0;1;.85;.7;.65",repeatCount:"indefinite"})]),e("line",{y1:"17",y2:"29",transform:"translate(32,32) rotate(90)"},[e("animate",{attributeName:"stroke-opacity",dur:"750ms",values:".7;.65;.55;.45;.35;.25;.15;.1;0;1;.85;.7",repeatCount:"indefinite"})]),e("line",{y1:"17",y2:"29",transform:"translate(32,32) rotate(120)"},[e("animate",{attributeName:"stroke-opacity",dur:"750ms",values:".85;.7;.65;.55;.45;.35;.25;.15;.1;0;1;.85",repeatCount:"indefinite"})]),e("line",{y1:"17",y2:"29",transform:"translate(32,32) rotate(150)"},[e("animate",{attributeName:"stroke-opacity",dur:"750ms",values:"1;.85;.7;.65;.55;.45;.35;.25;.15;.1;0;1",repeatCount:"indefinite"})])])];var z=O({name:"QSpinnerIos",props:E,setup(v){const{cSize:i,classes:a}=V(v);return()=>e("svg",{class:a.value,width:i.value,height:i.value,stroke:"currentColor",fill:"currentColor",viewBox:"0 0 64 64"},P)}});const I={class:"col-3 q-gutter-y-md"},J={class:"col"},$={class:"q-gutter-md",bordered:""},M={key:1,class:"text-center flex flex-center fullscreen"},X=Q({__name:"SavePage",setup(v){const i=r(null),a=r(),m=r(!1),c=r(!1);r(null),r(!1),r(!1);const g=A();D(async()=>{a.value=await S(g.params.id)});const w=async()=>{var b,C;if(a.value===void 0)return;const y=Object.fromEntries(Object.entries(a.value.characters).map(([k,u])=>[k,{...u.levels,initial:u.initial}]).filter(([k,u])=>Object.values(u).reduce((N,_)=>N||Object.keys(_).length!==0,!1))),s=JSON.stringify(y,void 0,2),t=document.createElement("a");t.href=URL.createObjectURL(new Blob([s],{type:"application/json"}));let o=(C=(b=i.value)==null?void 0:b.name)!=null?C:"log";o=o.replace(/\.[^\.]+$/,""),o+=".json",t.download=o,t.click(),URL.revokeObjectURL(t.href)};return(y,s)=>a.value?(d(),L(B,{key:0,class:"row q-pa-md q-gutter-x-md doc-container"},{default:f(()=>[l("div",I,[l("div",null,[n(h,{modelValue:m.value,"onUpdate:modelValue":s[0]||(s[0]=t=>m.value=t),label:"\u30B9\u30C6\u30FC\u30BF\u30B9\u30ED\u30FC\u30EB\u3092\u8868\u793A"},null,8,["modelValue"])]),l("div",null,[n(h,{modelValue:c.value,"onUpdate:modelValue":s[1]||(s[1]=t=>c.value=t),label:"\u56DE\u6570\u3092\u8868\u793A"},null,8,["modelValue"])]),n(x,{list:a.value.unknown_skills,title:"\u521D\u671F\u5024\u4E0D\u660E\u306E\u6280\u80FD"},null,8,["list"]),n(R,{class:"full-width",disable:a.value===void 0,color:"grey-9",onClick:s[2]||(s[2]=t=>w())},{default:f(()=>[U("json\u5F62\u5F0F\u3067\u30C0\u30A6\u30F3\u30ED\u30FC\u30C9")]),_:1},8,["disable"])]),l("div",J,[l("div",$,[(d(!0),p(q,null,T(Object.entries(a.value.characters),([t,o])=>(d(),p("div",{key:t},[n(F,{flat:"",bordered:""},{default:f(()=>[n(j,{label:t,tab:o,headerClass:"text-h6",showStatusRolls:m.value,showSuccessCount:c.value},null,8,["label","tab","showStatusRolls","showSuccessCount"])]),_:2},1024)]))),128))])])]),_:1})):(d(),p("div",M,[n(z,{color:"primary",size:"10em"})]))}});export{X as default};
